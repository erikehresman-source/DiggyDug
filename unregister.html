<!doctype html>
<meta charset="utf-8">
<title>Unregister SW</title>
<body style="font:16px system-ui;background:#111;color:#eee;padding:16px">
<h1>Unregistering service workerâ€¦</h1>
<script>
(async () => {
  if ('serviceWorker' in navigator) {
    const regs = await navigator.serviceWorker.getRegistrations();
    for (const r of regs) await r.unregister();
    // Also delete all caches for this origin
    if (window.caches) {
      const keys = await caches.keys();
      for (const k of keys) await caches.delete(k);
    }
  }
  document.body.insertAdjacentHTML('beforeend','<p>Done. Reload the site.</p>');
})();
</script>
